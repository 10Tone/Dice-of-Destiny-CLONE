[gd_scene load_steps=26 format=2]

[ext_resource path="res://Assets/Aseprite/Design/Battle Screen/Battle Screen bgrnd.png" type="Texture" id=1]
[ext_resource path="res://Project/Game/BattleScreen/DiceController.tscn" type="PackedScene" id=2]
[ext_resource path="res://Project/Game/BattleScreen/BattleManager.gd" type="Script" id=3]
[ext_resource path="res://Project/Game/BattleScreen/EnemyTurnSimulator.tscn" type="PackedScene" id=4]
[ext_resource path="res://Project/Game/BattleScreen/HUD/WinLoosePopup.tscn" type="PackedScene" id=5]
[ext_resource path="res://Project/Game/BattleScreen/HUD/HealthBar.tscn" type="PackedScene" id=6]
[ext_resource path="res://Project/Game/BattleScreen/HUD/SevenMultiplier.tscn" type="PackedScene" id=7]
[ext_resource path="res://Project/Game/BattleScreen/HUD/HealthBarsDisplay.gd" type="Script" id=8]
[ext_resource path="res://Project/Game/BattleScreen/HUD/DicesDisplay.tscn" type="PackedScene" id=9]
[ext_resource path="res://Project/Game/BattleScreen/HUD/ActionButtons.tscn" type="PackedScene" id=10]
[ext_resource path="res://Assets/Aseprite/Design/Battle Screen/Ship Stats/Ship Stats Player Background.png" type="Texture" id=11]
[ext_resource path="res://Assets/Fonts/PerfectDOS.tres" type="DynamicFont" id=12]
[ext_resource path="res://Project/Game/BattleScreen/HUD/iconBackground.tscn" type="PackedScene" id=13]
[ext_resource path="res://Assets/Aseprite/Design/Battle Screen/Ship Stats/Icon Shield Active.png" type="Texture" id=14]
[ext_resource path="res://Assets/Aseprite/Design/Battle Screen/Ship Stats/Icon Shield MouseOver.png" type="Texture" id=15]
[ext_resource path="res://Assets/Aseprite/Design/Battle Screen/Ship Stats/Icon Shield InActive.png" type="Texture" id=16]
[ext_resource path="res://Assets/Aseprite/Design/Battle Screen/Ship Stats/Icon Attack InActive.png" type="Texture" id=17]
[ext_resource path="res://Assets/Aseprite/Design/Battle Screen/Ship Stats/Icon Attack Active.png" type="Texture" id=18]
[ext_resource path="res://Assets/Aseprite/Design/Battle Screen/Ship Stats/Icon Attack MouseOver.png" type="Texture" id=19]
[ext_resource path="res://Project/Game/BattleScreen/Skill.gd" type="Script" id=20]
[ext_resource path="res://Project/Game/BattleScreen/HUD/SkillsDisplay.gd" type="Script" id=21]
[ext_resource path="res://Assets/Aseprite/Design/Battle Screen/Ship Stats/Ship Stats Enemy Background.png" type="Texture" id=22]
[ext_resource path="res://Project/Game/BattleScreen/Entities/EntityAnimator.tscn" type="PackedScene" id=23]
[ext_resource path="res://Assets/Aseprite/Entities/Antitie Background 01.png" type="Texture" id=24]

[sub_resource type="Environment" id=1]
background_mode = 4
background_canvas_max_layer = 1
glow_levels/4 = true
glow_intensity = 2.0
glow_strength = 0.95
glow_blend_mode = 0
glow_hdr_scale = 3.67
glow_bicubic_upscale = true

[node name="BattleScreen" type="Node2D"]
script = ExtResource( 3 )
dice_controller = NodePath("DiceController")
enemy_turn_simulator = NodePath("EnemyTurnSimulator")
roll_button = NodePath("HUD/ActionButtons/ActionButtonsBackground/HBoxContainer/RollButton")
fight_button = NodePath("HUD/ActionButtons/ActionButtonsBackground/HBoxContainer/FightButton")
undo_button = NodePath("HUD/ActionButtons/ActionButtonsBackground/HBoxContainer/UndoButton")
dices_display = NodePath("HUD/DicesDisplay")
seven_multiplier = NodePath("HUD/SevenMultiplier")
healthbar_display = NodePath("HUD/HealthBars")
skills_display = NodePath("HUD/StatsDisplay")
win_loose_popup = NodePath("HUD/WinLoosePopup")
player_animator = NodePath("EntityAnimators/PlayerAnimator")

[node name="EnemyTurnSimulator" parent="." instance=ExtResource( 4 )]

[node name="DiceController" parent="." instance=ExtResource( 2 )]

[node name="ColorRect" type="ColorRect" parent="."]
anchor_right = 1.0
anchor_bottom = 1.0
rect_min_size = Vector2( 640, 360 )
color = Color( 0.0156863, 0.054902, 0.0784314, 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Background" type="Sprite" parent="."]
modulate = Color( 0.607843, 0.756863, 0.713726, 0.752941 )
texture = ExtResource( 1 )
centered = false

[node name="Sprite" type="Sprite" parent="."]
position = Vector2( 77.2241, 198.463 )
texture = ExtResource( 24 )

[node name="HUD" type="CanvasLayer" parent="."]

[node name="DicesDisplay" parent="HUD" instance=ExtResource( 9 )]

[node name="WinLoosePopup" parent="HUD" instance=ExtResource( 5 )]
visible = false
margin_left = -120.0
margin_top = -80.0
margin_right = 120.0
margin_bottom = 80.0
rect_min_size = Vector2( 240, 160 )

[node name="ActionButtons" parent="HUD" instance=ExtResource( 10 )]
margin_top = 6.0
margin_bottom = 40.0

[node name="StatsDisplay" type="Control" parent="HUD"]
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
margin_left = -310.0
margin_top = -70.0
margin_right = 310.0
margin_bottom = -34.0
rect_min_size = Vector2( 620, 36 )
script = ExtResource( 21 )
__meta__ = {
"_edit_use_anchors_": false
}
enemy_attack_skill_icon = NodePath("Player Ship Stats/HBoxContainer/AttackStats/VBoxContainer/iconBackground")
enemy_block_skill_icon = NodePath("Player Ship Stats/HBoxContainer/ShieldStats/VBoxContainer/iconBackground")
enemy_health_skill_icon = NodePath("Player Ship Stats/HBoxContainer/HealthStats/VBoxContainer/iconBackground")

[node name="Player Ship Stats" type="Control" parent="HUD/StatsDisplay"]
anchor_top = 0.5
anchor_bottom = 0.5
margin_top = -18.0
margin_right = 140.0
margin_bottom = 18.0
rect_min_size = Vector2( 140, 36 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Background" type="TextureRect" parent="HUD/StatsDisplay/Player Ship Stats"]
anchor_right = 1.0
anchor_bottom = 1.0
texture = ExtResource( 11 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="HBoxContainer" type="HBoxContainer" parent="HUD/StatsDisplay/Player Ship Stats"]
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = -70.0
margin_top = -16.0
margin_right = 70.0
margin_bottom = 16.0
rect_min_size = Vector2( 140, 32 )
custom_constants/separation = 1
__meta__ = {
"_edit_use_anchors_": false
}

[node name="TextureRect" type="TextureRect" parent="HUD/StatsDisplay/Player Ship Stats/HBoxContainer"]
margin_right = 39.0
margin_bottom = 32.0
rect_min_size = Vector2( 39, 32 )

[node name="HealthStats" type="Control" parent="HUD/StatsDisplay/Player Ship Stats/HBoxContainer"]
margin_left = 40.0
margin_right = 72.0
margin_bottom = 32.0
rect_min_size = Vector2( 32, 32 )

[node name="VBoxContainer" type="VBoxContainer" parent="HUD/StatsDisplay/Player Ship Stats/HBoxContainer/HealthStats"]
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
margin_left = -16.0
margin_top = -64.0
margin_right = 16.0
rect_min_size = Vector2( 32, 64 )
custom_constants/separation = 0
script = ExtResource( 20 )
__meta__ = {
"_edit_use_anchors_": false
}
amount_label = NodePath("HealthStatLabel")
skill_stats_icon_controller = NodePath("iconBackground")

[node name="HealthStatLabel" type="Label" parent="HUD/StatsDisplay/Player Ship Stats/HBoxContainer/HealthStats/VBoxContainer"]
margin_right = 32.0
margin_bottom = 32.0
rect_min_size = Vector2( 32, 32 )
custom_fonts/font = ExtResource( 12 )
custom_colors/font_color = Color( 1, 0.960784, 0.894118, 1 )
align = 1
valign = 1

[node name="iconBackground" parent="HUD/StatsDisplay/Player Ship Stats/HBoxContainer/HealthStats/VBoxContainer" instance=ExtResource( 13 )]

[node name="IconActive" parent="HUD/StatsDisplay/Player Ship Stats/HBoxContainer/HealthStats/VBoxContainer/iconBackground" index="1"]
visible = true

[node name="ShieldStats" type="Control" parent="HUD/StatsDisplay/Player Ship Stats/HBoxContainer"]
margin_left = 73.0
margin_right = 105.0
margin_bottom = 32.0
rect_min_size = Vector2( 32, 32 )

[node name="VBoxContainer" type="VBoxContainer" parent="HUD/StatsDisplay/Player Ship Stats/HBoxContainer/ShieldStats"]
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
margin_left = -16.0
margin_top = -64.0
margin_right = 16.0
rect_min_size = Vector2( 32, 64 )
custom_constants/separation = 0
script = ExtResource( 20 )
__meta__ = {
"_edit_use_anchors_": false
}
skill_type = 1
amount_label = NodePath("ShieldStatLabel")
skill_stats_icon_controller = NodePath("iconBackground")

[node name="ShieldStatLabel" type="Label" parent="HUD/StatsDisplay/Player Ship Stats/HBoxContainer/ShieldStats/VBoxContainer"]
margin_right = 32.0
margin_bottom = 32.0
rect_min_size = Vector2( 32, 32 )
custom_fonts/font = ExtResource( 12 )
custom_colors/font_color = Color( 1, 0.960784, 0.894118, 1 )
align = 1
valign = 1

[node name="iconBackground" parent="HUD/StatsDisplay/Player Ship Stats/HBoxContainer/ShieldStats/VBoxContainer" instance=ExtResource( 13 )]

[node name="IconInActive" parent="HUD/StatsDisplay/Player Ship Stats/HBoxContainer/ShieldStats/VBoxContainer/iconBackground" index="0"]
texture = ExtResource( 16 )

[node name="IconActive" parent="HUD/StatsDisplay/Player Ship Stats/HBoxContainer/ShieldStats/VBoxContainer/iconBackground" index="1"]
texture = ExtResource( 14 )

[node name="IconMouseOver" parent="HUD/StatsDisplay/Player Ship Stats/HBoxContainer/ShieldStats/VBoxContainer/iconBackground" index="2"]
texture = ExtResource( 15 )

[node name="AttackStats" type="Control" parent="HUD/StatsDisplay/Player Ship Stats/HBoxContainer"]
margin_left = 106.0
margin_right = 138.0
margin_bottom = 32.0
rect_min_size = Vector2( 32, 32 )

[node name="VBoxContainer" type="VBoxContainer" parent="HUD/StatsDisplay/Player Ship Stats/HBoxContainer/AttackStats"]
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
margin_left = -16.0
margin_top = -64.0
margin_right = 16.0
rect_min_size = Vector2( 32, 64 )
custom_constants/separation = 0
script = ExtResource( 20 )
__meta__ = {
"_edit_use_anchors_": false
}
skill_type = 2
amount_label = NodePath("AttackStatLabel")
skill_stats_icon_controller = NodePath("iconBackground")

[node name="AttackStatLabel" type="Label" parent="HUD/StatsDisplay/Player Ship Stats/HBoxContainer/AttackStats/VBoxContainer"]
margin_right = 32.0
margin_bottom = 32.0
rect_min_size = Vector2( 32, 32 )
custom_fonts/font = ExtResource( 12 )
custom_colors/font_color = Color( 1, 0.960784, 0.894118, 1 )
align = 1
valign = 1

[node name="iconBackground" parent="HUD/StatsDisplay/Player Ship Stats/HBoxContainer/AttackStats/VBoxContainer" instance=ExtResource( 13 )]

[node name="IconInActive" parent="HUD/StatsDisplay/Player Ship Stats/HBoxContainer/AttackStats/VBoxContainer/iconBackground" index="0"]
texture = ExtResource( 17 )

[node name="IconActive" parent="HUD/StatsDisplay/Player Ship Stats/HBoxContainer/AttackStats/VBoxContainer/iconBackground" index="1"]
texture = ExtResource( 18 )

[node name="IconMouseOver" parent="HUD/StatsDisplay/Player Ship Stats/HBoxContainer/AttackStats/VBoxContainer/iconBackground" index="2"]
texture = ExtResource( 19 )

[node name="TextureRect5" type="TextureRect" parent="HUD/StatsDisplay/Player Ship Stats/HBoxContainer"]
margin_left = 139.0
margin_right = 140.0
margin_bottom = 32.0
rect_min_size = Vector2( 1, 32 )

[node name="Enemy Ship Stats" type="Control" parent="HUD/StatsDisplay"]
anchor_left = 1.0
anchor_top = 0.5
anchor_right = 1.0
anchor_bottom = 0.5
margin_left = -140.0
margin_top = -18.0
margin_bottom = 18.0
rect_min_size = Vector2( 140, 36 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Background" type="TextureRect" parent="HUD/StatsDisplay/Enemy Ship Stats"]
anchor_right = 1.0
anchor_bottom = 1.0
texture = ExtResource( 22 )

[node name="HBoxContainer" type="HBoxContainer" parent="HUD/StatsDisplay/Enemy Ship Stats"]
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = -70.0
margin_top = -16.0
margin_right = 70.0
margin_bottom = 16.0
rect_min_size = Vector2( 140, 32 )
custom_constants/separation = 1
__meta__ = {
"_edit_use_anchors_": false
}

[node name="TextureRect5" type="TextureRect" parent="HUD/StatsDisplay/Enemy Ship Stats/HBoxContainer"]
margin_right = 1.0
margin_bottom = 32.0
rect_min_size = Vector2( 1, 32 )

[node name="AttackStats" type="Control" parent="HUD/StatsDisplay/Enemy Ship Stats/HBoxContainer"]
margin_left = 2.0
margin_right = 34.0
margin_bottom = 32.0
rect_min_size = Vector2( 32, 32 )

[node name="VBoxContainer" type="VBoxContainer" parent="HUD/StatsDisplay/Enemy Ship Stats/HBoxContainer/AttackStats"]
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
margin_left = -16.0
margin_top = -64.0
margin_right = 16.0
rect_min_size = Vector2( 32, 64 )
custom_constants/separation = 0
script = ExtResource( 20 )
__meta__ = {
"_edit_use_anchors_": false
}
skill_type = 2
entity_type = 1
amount_label = NodePath("AttackStatLabel")
skill_stats_icon_controller = NodePath("iconBackground")

[node name="AttackStatLabel" type="Label" parent="HUD/StatsDisplay/Enemy Ship Stats/HBoxContainer/AttackStats/VBoxContainer"]
margin_right = 32.0
margin_bottom = 32.0
rect_min_size = Vector2( 32, 32 )
custom_fonts/font = ExtResource( 12 )
custom_colors/font_color = Color( 1, 0.960784, 0.894118, 1 )
align = 1
valign = 1

[node name="iconBackground" parent="HUD/StatsDisplay/Enemy Ship Stats/HBoxContainer/AttackStats/VBoxContainer" instance=ExtResource( 13 )]

[node name="IconInActive" parent="HUD/StatsDisplay/Enemy Ship Stats/HBoxContainer/AttackStats/VBoxContainer/iconBackground" index="0"]
texture = ExtResource( 17 )
flip_h = true

[node name="IconActive" parent="HUD/StatsDisplay/Enemy Ship Stats/HBoxContainer/AttackStats/VBoxContainer/iconBackground" index="1"]
texture = ExtResource( 18 )
flip_h = true

[node name="IconMouseOver" parent="HUD/StatsDisplay/Enemy Ship Stats/HBoxContainer/AttackStats/VBoxContainer/iconBackground" index="2"]
texture = ExtResource( 19 )
flip_h = true

[node name="ShieldStats" type="Control" parent="HUD/StatsDisplay/Enemy Ship Stats/HBoxContainer"]
margin_left = 35.0
margin_right = 67.0
margin_bottom = 32.0
rect_min_size = Vector2( 32, 32 )

[node name="VBoxContainer" type="VBoxContainer" parent="HUD/StatsDisplay/Enemy Ship Stats/HBoxContainer/ShieldStats"]
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
margin_left = -16.0
margin_top = -64.0
margin_right = 16.0
rect_min_size = Vector2( 32, 64 )
custom_constants/separation = 0
script = ExtResource( 20 )
__meta__ = {
"_edit_use_anchors_": false
}
skill_type = 1
entity_type = 1
amount_label = NodePath("ShieldStatLabel")
skill_stats_icon_controller = NodePath("iconBackground")

[node name="ShieldStatLabel" type="Label" parent="HUD/StatsDisplay/Enemy Ship Stats/HBoxContainer/ShieldStats/VBoxContainer"]
margin_right = 32.0
margin_bottom = 32.0
rect_min_size = Vector2( 32, 32 )
custom_fonts/font = ExtResource( 12 )
custom_colors/font_color = Color( 1, 0.960784, 0.894118, 1 )
align = 1
valign = 1

[node name="iconBackground" parent="HUD/StatsDisplay/Enemy Ship Stats/HBoxContainer/ShieldStats/VBoxContainer" instance=ExtResource( 13 )]

[node name="HealthStats" type="Control" parent="HUD/StatsDisplay/Enemy Ship Stats/HBoxContainer"]
margin_left = 68.0
margin_right = 100.0
margin_bottom = 32.0
rect_min_size = Vector2( 32, 32 )

[node name="VBoxContainer" type="VBoxContainer" parent="HUD/StatsDisplay/Enemy Ship Stats/HBoxContainer/HealthStats"]
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
margin_left = -16.0
margin_top = -64.0
margin_right = 16.0
rect_min_size = Vector2( 32, 64 )
custom_constants/separation = 0
script = ExtResource( 20 )
__meta__ = {
"_edit_use_anchors_": false
}
entity_type = 1
amount_label = NodePath("HealthStatLabel")
skill_stats_icon_controller = NodePath("iconBackground")

[node name="HealthStatLabel" type="Label" parent="HUD/StatsDisplay/Enemy Ship Stats/HBoxContainer/HealthStats/VBoxContainer"]
margin_right = 32.0
margin_bottom = 32.0
rect_min_size = Vector2( 32, 32 )
custom_fonts/font = ExtResource( 12 )
custom_colors/font_color = Color( 1, 0.960784, 0.894118, 1 )
align = 1
valign = 1

[node name="iconBackground" parent="HUD/StatsDisplay/Enemy Ship Stats/HBoxContainer/HealthStats/VBoxContainer" instance=ExtResource( 13 )]

[node name="TextureRect" type="TextureRect" parent="HUD/StatsDisplay/Enemy Ship Stats/HBoxContainer"]
margin_left = 101.0
margin_right = 140.0
margin_bottom = 32.0
rect_min_size = Vector2( 39, 32 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="HealthBars" type="Control" parent="HUD"]
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
margin_left = -310.0
margin_top = -30.0
margin_right = 310.0
margin_bottom = -10.0
rect_min_size = Vector2( 620, 20 )
script = ExtResource( 8 )
__meta__ = {
"_edit_use_anchors_": false
}
player_health_label = NodePath("PlayerHealthBar/Label")
enemy_health_label = NodePath("EnemyHealthBar/Label")
player_progress_bar = NodePath("PlayerHealthBar/TextureProgress")
enemey_progress_bar = NodePath("EnemyHealthBar/TextureProgress")

[node name="PlayerHealthBar" parent="HUD/HealthBars" instance=ExtResource( 6 )]
anchor_top = 0.5
anchor_bottom = 0.5
margin_top = -10.0
margin_bottom = 10.0

[node name="TextureProgress" parent="HUD/HealthBars/PlayerHealthBar" index="0"]
max_value = 25.0
value = 0.0

[node name="Label" parent="HUD/HealthBars/PlayerHealthBar" index="2"]
text = "00"

[node name="EnemyHealthBar" parent="HUD/HealthBars" instance=ExtResource( 6 )]
anchor_left = 1.0
anchor_top = 0.5
anchor_right = 1.0
anchor_bottom = 0.5
margin_left = -140.0
margin_top = -10.0
margin_right = 0.0
margin_bottom = 10.0

[node name="TextureProgress" parent="HUD/HealthBars/EnemyHealthBar" index="0"]
margin_left = -139.0
margin_right = -19.0
max_value = 35.0
value = 0.0
fill_mode = 1

[node name="TextureRect" parent="HUD/HealthBars/EnemyHealthBar" index="1"]
flip_h = true

[node name="Label" parent="HUD/HealthBars/EnemyHealthBar" index="2"]
margin_left = 120.0
margin_right = 140.0
text = "00"

[node name="SevenMultiplier" parent="HUD" instance=ExtResource( 7 )]
margin_left = 11.8438
margin_top = 120.591
margin_right = 27.8438
margin_bottom = 156.591

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource( 1 )

[node name="EntityAnimators" type="Node2D" parent="."]

[node name="PlayerAnimator" parent="EntityAnimators" instance=ExtResource( 23 )]
position = Vector2( 87.315, 218.417 )

[editable path="HUD/ActionButtons"]
[editable path="HUD/StatsDisplay/Player Ship Stats/HBoxContainer/HealthStats/VBoxContainer/iconBackground"]
[editable path="HUD/StatsDisplay/Player Ship Stats/HBoxContainer/ShieldStats/VBoxContainer/iconBackground"]
[editable path="HUD/StatsDisplay/Player Ship Stats/HBoxContainer/AttackStats/VBoxContainer/iconBackground"]
[editable path="HUD/StatsDisplay/Enemy Ship Stats/HBoxContainer/AttackStats/VBoxContainer/iconBackground"]
[editable path="HUD/HealthBars/PlayerHealthBar"]
[editable path="HUD/HealthBars/EnemyHealthBar"]
[editable path="EntityAnimators/PlayerAnimator"]
